<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <record id="crossovered_budget_view_form" model="ir.ui.view">
        <field name="model">crossovered.budget</field>
        <field
      name="inherit_id"
      ref="account_budget_oca.crossovered_budget_view_form"
    />
        <field name="arch" type="xml">
            <field name="creating_user_id" position="after">
                <field
          name="mis_report_template_id"
          attrs="{'readonly':[('state','!=','draft')]}"
        />
            </field>
            <field name="crossovered_budget_line_ids" position="attributes">
                <attribute
          name="context"
        >{'default_date_from': date_from,'default_date_to': date_to, 'default_mis_report_template_id': mis_report_template_id}</attribute>
            </field>
            <xpath
        expr="//field[@name='crossovered_budget_line_ids']/tree/field[@name='date_to']"
        position="after"
      >
                <field name="mis_report_template_id" invisible="1" />
                <field
          name="mis_report_kpi_id"
          optional="show"
          domain="[('report_id','=', mis_report_template_id)]"
        />
            </xpath>
            <xpath
        expr="//field[@name='crossovered_budget_line_ids']/form//field[@name='paid_date']"
        position="before"
      >
                <field name="mis_report_template_id" invisible="1" />
                <field
          name="mis_report_kpi_id"
          domain="[('report_id','=', mis_report_template_id)]"
        />
            </xpath>
        </field>
    </record>

    <record id="crossovered_budget_view_tree" model="ir.ui.view">
        <field name="model">crossovered.budget</field>
        <field
      name="inherit_id"
      ref="account_budget_oca.crossovered_budget_view_tree"
    />
        <field name="arch" type="xml">
            <field name="date_to" position="after">
                <field name="mis_report_template_id" optional="show" />
            </field>
        </field>
    </record>

    <record id="view_crossovered_budget_search" model="ir.ui.view">
        <field name="model">crossovered.budget</field>
        <field
      name="inherit_id"
      ref="account_budget_oca.view_crossovered_budget_search"
    />
        <field name="arch" type="xml">
            <field name="name" position="after">
                <field name="mis_report_template_id" />
            </field>
            <field name="state" position="after">
                <group expand="0" string="Group By">
                    <filter
            string="Mis Report Template"
            name="mis-report-template"
            domain="[]"
            context="{'group_by': 'mis_report_template_id'}"
          />
                </group>
            </field>
        </field>
    </record>
</odoo>
